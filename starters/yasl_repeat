#! yasl

// $> ./yasl_repeat 4 Bonjour "how are you ?"
// $> ./yasl_repeat 1 "************" "******" "****" "---"

{
	"Error\n" print  // print("Error\n");
	1 exit           // exit(1);
} err_exit

// print_n(n, msg)
{
	=:9                    // move `n` to stack9
	(2 ^) (= !):9          // push `msg` to stack9

	{ = 0 > } loop_cond
	{ 1 - } loop_dec
	{ 9:(= print):9 } loop_func

	// i = n;
	// while (i-- >= 0)
	loop_cond @(loop_func loop_dec loop_cond)
	!                      // drop i
	9:!                    // drop msg
	"\n" print
	9:(= !)                // move back `n` from stack9
} print_n_times

(2 <=) ? err_exit    // if (argc <= 2) err_exit
!                    // drop `argv[0]`

eval
(= 0 <=) ? err_exit  // if (argv[1] <= 0) err_exit

print_stack
(
	{# 2 >= 2} cond
	{1 +} inc
	cond
	print_stack
	@(print_n_times cond print_stack 1 exit)
)
print_stack
